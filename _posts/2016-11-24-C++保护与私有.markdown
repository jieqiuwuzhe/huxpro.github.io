---
layout:     post
title:      "C++关键字之Private与Protected"
subtitle:   " \" Private、Public、Protected区别 \""
date:       2016-11-24 09:57:00
author:     "Root"
header-img: "img/post-bg-apple-event-2015.jpg"
catalog: true
tags:
    - C++
---

> “我披上坚甲，挡在你身前，万千的关心只化为一句:小心。 -------披甲龙龟 ”

**private、public 和 protected**

#### 作为一个类中的成员权限设置时

**private**: 只能由该类中的函数、其友元函数访问,不能被任何其他访问，**该类的对象也不能访问**. 

**protected**: 可以被该类中的函数、子类的函数、以及其友元函数访问,但**不能被该类的对象访问** 

**public**: 可以被该类中的函数、子类的函数、其友元函数访问,也可以由该类的对象访问

>注：友元函数包括两种：设为友元的全局函数，设为友元类中的成员函数

#### 当private,public,protected作为继承方式时：

**对于公有继承方式**： 
(1)父类的public成员成为子类的public成员，允许类以外的代码访问这些成员；  
(2)父类的private成员仍旧是父类的private成员，子类成员不可以访问这些成员；  
(3)父类的protected成员成为子类的protected成员，只允许子类成员访问；  

(1) 基类成员对其对象的可见性： 

public 可见，其他不可见。这里 protected 等同于 private 。 

(2) 基类成员对派生类的可见性： 

公有成员和保护成员可见，而私有成员不可见。这里保护成员同于公有成员。 

(3) 基类成员对派生类对象的可见性： 

public 可见，其他成员不可见。 

所以，在公有继承时，派生类的对象可以访问基类中的 public ；派生类的成员函数可以访问基类中的 public 和 protected 。这里，一定要区分清楚派生类的对象和派生类中的成员函数对基类的访问是不同的。 

**对于私有继承方式**： 

(1)父类的 public 成员成为子类的 private 成员，只允许子类成员访问；  
(2)父类的 private 成员仍旧是父类的 private 成员，子类成员不可以访问这些成员；  
(3)父类的 protected 成员成为子类的 private 成员，只允许子类成员访问；  

(1) 基类成员对其对象的可见性： 

公有成员可见，其他成员不可见。 

(2) 基类成员对派生类的可见性： 

公有成员和保护成员是可见的，而私有成员是不可见的。 

(3) 基类成员对派生类对象的可见性： 

所有成员都是不可见的。 

所以，在私有继承时，基类的成员只能由直接派生类访问，而无法再往下继承。 

**对于保护继承方式**： 

(1)父类的public成员成为子类的protected成员，只允许子类成员访问；  
(2)父类的private成员仍旧是父类的private成员，子类成员不可以访问这些成员；  
(3)父类的public成员成为子类的protected成员，只允许子类成员访问；  

这种继承方式与私有继承方式的情况相同。两者的区别仅在于对派生类的成员而言，对基类成员有不同的可见性。 

上述所说的可见性也就是可访问性。关于可访问性还有另的一种说法。这种规则中，称派生类的对象对基类访问为水平访问，称派生类的派生类对基类的访问为垂直访问。 

一般规则如下： 

公有继承时，水平访问和垂直访问对基类中的公有成员不受限制；   
私有继承时，水平访问和垂直访问对基类中的公有成员也不能访问；   
保护继承时，对于垂直访问同于公有继承，对于水平访问同于私有继承。  



—— Root 于 2016.11


